var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[k]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var k=0;return $jscomp.iteratorPrototype(function(){return k<a.length?{done:!1,value:a[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,k){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,h={next:function(){if(g<a.length){var l=g++;return{value:k(l,a[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(a,k,g,h){if(k){g=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var l=a[h];l in g||(g[l]={});g=g[l]}a=a[a.length-1];h=g[a];k=k(h);k!=h&&null!=k&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
var spa=function(){var a=function(){var a={},c={};return{initModule:function(a,b){c[a]=b},publish:function(d,b){var e=c[a[d]];if(!e)return!1;event=new CustomEvent(d,{detail:b});e.dispatchEvent(event)},subscribe:function(d,b,e){_.has(a,b)&&delete a[b];c[d].addEventListener(b,e);a[b]=d},unsubscribe:function(d,b){_.has(a,b)&&delete a[b]}}}(),k=function(){var a=null;return{setConfig:function(c){a=c},setAnchor:function(a,d){var b=a.page,b=_.isArray(b)?"/"+b.join("/"):b,c={cache:a.cache||!1};d?history.replaceState(null,
null,b):history.pushState(c,null,b);window.dispatchEvent(new Event("popstate"))},makeAnchorMap:function(c){var d;d=document.location.href.split("/");var b=history.state,e=_.intersection(d,a),m=!1;b&&(m=b.cache||!1);b=null;0<e.length&&(b=_.rest(d,_.indexOf(d,e[0])));d={page:b,cache:m};null===d.page&&(d.page=_.isArray(c)?c:[c]);return d}}}(),g=function(){var e=null,c=function(){var a=function(a){return _.keys(a).map(function(b){var d=a[b];_.isObject(d)&&(d=JSON.stringify(d));return[b,encodeURIComponent(d)].join("=")}).join("&")},
d=function(a){return new Promise(function(d,b){var f=new XMLHttpRequest;f.open(a.method,a.url,!0);_.keys(a.headers).forEach(function(b){f.setRequestHeader(b,a.headers[b])});f.send(a.params);f.onload=function(){if(200<=f.status&&300>f.status)d(JSON.parse(f.response));else if(401===f.status){var a=JSON.parse(f.response);b(a.error)}else 403===f.status?(a=JSON.parse(f.response),b(a.error)):(console.info(f.response),b(f.statusText))};f.onerror=function(){console.info(f.statusText);b(f.statusText)}})};
return{get:function(b,e,c){c=void 0===c?null:c;var f={};c&&(f.Authorization="Bearer "+c);b+="?"+a(e);"?"===_.last(b)&&(b=_.without(b,"?").join(""));return d({method:"GET",url:b,params:null,headers:f})},"delete":function(b,c,e){e=void 0===e?null:e;var f={};e&&(f.Authorization="Bearer "+e);return d({method:"DELETE",url:b,params:a(c),headers:f})},patch:function(a,b,e){e=void 0===e?null:e;var c={"Content-Type":"application/json; charset=UTF-8"};e&&(c.Authorization="Bearer "+e);return d({method:"PATCH",
url:a,params:JSON.stringify(b),headers:c})},post:function(b,e,c){c=void 0===c?null:c;var f={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};c&&(f.Authorization="Bearer "+c);return d({method:"POST",url:b,params:a(e),headers:f})},json:function(a,b,c){c=void 0===c?null:c;var e={"Content-Type":"application/json; charset=UTF-8"};c&&(e.Authorization="Bearer "+c);return d({method:"POST",url:a,params:JSON.stringify(b),headers:e})},up:function(a,b){return new Promise(function(c,e){var d=
new XMLHttpRequest,f=new FormData;f.append("file",b);d.open("POST",a);d.send(f);d.onload=function(){200===d.status?c(JSON.parse(d.response)):e(Error("Image didn't load successfully; error code:"+d.statusText))};d.onerror=function(){e(Error("There was a network error."))}})}}}(),d=function(){return{open:function(b,d){var c=(new goog.appengine.Channel(b)).open();c.onopen=function(){a.publish(d,{onopen:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u958b\u901a\u3057\u307e\u3057\u305f\u3002"})};c.onerror=
function(){a.publish(d,{onerror:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002"})};c.onclose=function(){console.info("Close Channel")};c.onmessage=function(b){b=JSON.parse(b.data);a.publish(b.customeve,b)};e=c},close:function(){e.close()}}}();return{getAjax:c,getChannel:d}}(),h=function(){return{makeError:function(a,c,d){var b=Error();b.name=a;b.message=c;d&&(b.data=d);return b},okikae:function(){var a=Array.prototype.slice.call(arguments),
c=a.slice(1),d=function(a,e){return-1===a.indexOf("%s")?a:d(a.replace("%s",e||""),c.shift())};return d(a[0],c.shift())},deepCopy:function(a){return JSON.parse(JSON.stringify(a))},setConfigMap:function(a){var c=a.input_map,d=a.config_map;_.each(Object.keys(c),function(a){d.hasOwnProperty(a)&&(d[a]=c[a])})},ltrim:function(a){return a.replace(/[\s\u3000]+/g,"")},autoColor:function(){var a=function(a){return"0123456789ABCDEF".split("")[a-16*Math.floor(a/16)]};return function(){var c=Math.round(255*Math.random()),
d=Math.round(255*Math.random());return"#"+a(Math.round(255*Math.random()))+a(c)+a(d)}()},encodeHTML:function(a){var c=document.createElement("div");c.appendChild(document.createTextNode(a));return c.innerHTML}}}(),l=function(){var a={error_model:null},c=function(a){a.stopPropagation()};return{configModule:function(c){h.setConfigMap({input_map:c,config_map:a})},initModule:function(d){var b=a.error_model;console.info(b);d.innerHTML=spa.error[b.name](b);document.getElementById("error-container").addEventListener("click",
c,!1)}}}();return{initModule:function(){spa.model.initModule();spa.shell.initModule();window.dispatchEvent(new Event("popstate"))},gevent:a,uriAnchor:k,data:g,util:h,error:l}}();
spa.error.login=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u8a8d\u8a3c\u30a8\u30e9\u30fc\uff1f</h3>\n            <p>'+a.message+'</p>\n            <div><a href="'+a.data+'">Google\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</a></div>\n          </div>\n        </div>\n      </div>\n    </article>'};
spa.error.schema=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u30da\u30fc\u30b8\u9055\u53cd\uff1f</h3>\n            <p>'+a.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};
spa.error.server=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>server\u3067\u4f8b\u5916\u767a\u751f\uff1f</h3>\n            <p>'+a.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};
