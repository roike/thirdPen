var spa=function(){var f=function(){var d={},a={};return{initModule:function(c,b){a[c]=b},publish:function(c,b){var e=a[d[c]];if(!e)return!1;event=new CustomEvent(c,{detail:b});e.dispatchEvent(event)},subscribe:function(c,b,e){_.has(d,b)&&delete d[b];a[c].addEventListener(b,e);d[b]=c},unsubscribe:function(c,b){_.has(d,b)&&delete d[b]}}}(),k=function(){var d=null;return{setConfig:function(a){d=a},setAnchor:function(a,c){var b=a.page,b=_.isArray(b)?"/"+b.join("/"):b,d={cache:a.cache||!1};c?history.replaceState(null,
null,b):history.pushState(d,null,b);window.dispatchEvent(new Event("popstate"))},makeAnchorMap:function(a){var c;c=document.location.href.split("/");var b=history.state,e=_.intersection(c,d),g=!1;b&&(g=b.cache||!1);b=null;0<e.length&&(b=_.rest(c,_.indexOf(c,e[0])));c={page:b,cache:g};null===c.page&&(c.page=_.isArray(a)?a:[a]);return c}}}(),l=function(){var d=null,a=function(){var b=function(b){return _.keys(b).map(function(c){var d=b[c];_.isObject(d)&&(d=JSON.stringify(d));return[c,encodeURIComponent(d)].join("=")}).join("&")},
c=function(b){return new Promise(function(c,d){var a=new XMLHttpRequest;a.open(b.method,b.url,!0);_.keys(b.headers).forEach(function(c){a.setRequestHeader(c,b.headers[c])});a.send(b.params);a.onload=function(){if(200<=a.status&&300>a.status)c(JSON.parse(a.response));else if(403===a.status){var b=JSON.parse(a.response);d(b.error)}else console.info(a.response),d(a.statusText)};a.onerror=function(){console.info(a.statusText);d(a.statusText)}})};return{get:function(a,d){return c({method:"GET",url:a,params:b(d),
headers:{}})},"delete":function(a,d){return c({method:"DELETE",url:a,params:b(d),headers:{}})},patch:function(b,a){return c({method:"PATCH",url:b,params:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=UTF-8"}})},post:function(a,d){return c({method:"POST",url:a,params:b(d),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},json:function(a,b){return c({method:"POST",url:a,params:JSON.stringify(b),headers:{"Content-Type":"application/json; charset=UTF-8"}})},
up:function(a,b){return new Promise(function(d,c){var e=new XMLHttpRequest,f=new FormData;f.append("file",b);e.open("POST",a);e.send(f);e.onload=function(){200===e.status?d(JSON.parse(e.response)):c(Error("Image didn't load successfully; error code:"+e.statusText))};e.onerror=function(){c(Error("There was a network error."))}})}}}(),c=function(){return{open:function(a,c){var g=(new goog.appengine.Channel(a)).open();g.onopen=function(){f.publish(c,{onopen:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u958b\u901a\u3057\u307e\u3057\u305f\u3002"})};
g.onerror=function(){f.publish(c,{onerror:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002"})};g.onclose=function(){console.info("Close Channel")};g.onmessage=function(a){a=JSON.parse(a.data);f.publish(a.customeve,a)};d=g},close:function(){d.close()}}}();return{getAjax:a,getChannel:c}}(),h=function(){return{makeError:function(d,a,c){var b=Error();b.name=d;b.message=a;c&&(b.data=c);return b},okikae:function(){var d=Array.prototype.slice.call(arguments),
a=d.slice(1),c=function(b,d){return-1===b.indexOf("%s")?b:c(b.replace("%s",d||""),a.shift())};return c(d[0],a.shift())},deepCopy:function(d){return JSON.parse(JSON.stringify(d))},setConfigMap:function(d){var a=d.input_map,c=d.config_map;_.each(Object.keys(a),function(b){c.hasOwnProperty(b)&&(c[b]=a[b])})},ltrim:function(d){return d.replace(/[\s\u3000]+/g,"")},autoColor:function(){var d=function(a){return"0123456789ABCDEF".split("")[a-16*Math.floor(a/16)]};return function(){var a=Math.round(255*Math.random()),
c=Math.round(255*Math.random());return"#"+d(Math.round(255*Math.random()))+d(a)+d(c)}()},encodeHTML:function(d){var a=document.createElement("div");a.appendChild(document.createTextNode(d));return a.innerHTML}}}(),m=function(){var d={error_model:null};return{configModule:function(a){h.setConfigMap({input_map:a,config_map:d})},initModule:function(a){var c=d.error_model;console.info(c);a.innerHTML=spa.error[c.name](c)}}}();return{initModule:function(){spa.model.initModule();spa.shell.initModule();window.dispatchEvent(new Event("popstate"))},
gevent:f,uriAnchor:k,data:l,util:h,error:m}}();spa.error.login=function(f){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u8a8d\u8a3c\u30a8\u30e9\u30fc\uff1f</h3>\n            <p>'+f.message+'</p>\n            <div><a href="'+f.data+'">Google\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</a></div>\n          </div>\n        </div>\n      </div>\n    </article>'};
spa.error.schema=function(f){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u30da\u30fc\u30b8\u9055\u53cd\uff1f</h3>\n            <p>'+f.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};
spa.error.server=function(f){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>server\u3067\u4f8b\u5916\u767a\u751f\uff1f</h3>\n            <p>'+f.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};