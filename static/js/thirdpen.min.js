var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,f={next:function(){if(g<a.length){var k=g++;return{value:c(k,a[k]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,c,g,f){if(c){g=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var k=a[f];k in g||(g[k]={});g=g[k]}a=a[a.length-1];f=g[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};c.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var g=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(b){g(b,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(e){this.asyncThrow_(e)}}}this.batch_=null};c.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var f=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{b(a.resolve,a.reject)}catch(d){a.reject(d)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(b){d||(d=!0,a.call(h,b))}}var h=this,d=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{var b;a:switch(typeof a){case "object":b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(d){this.reject_(d);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,h){if(0!=this.state_)throw Error("Cannot settle("+a+", "+h|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=h;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,h=0;h<a.length;++h)a[h].call(),
a[h]=null;this.onSettledCallbacks_=null}};var k=new c;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,h){var b=this.createResolveAndReject_();try{a.call(h,b.resolve,b.reject)}catch(e){b.reject(e)}};f.prototype.then=function(a,h){function b(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(l){c(l)}}:b}var e,c,g=new f(function(a,b){e=a;c=b});this.callWhenSettled_(b(a,e),
b(h,c));return g};f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,h){function b(){switch(e.state_){case 1:a(e.result_);break;case 2:h(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?k.asyncExecute(b):this.onSettledCallbacks_.push(function(){k.asyncExecute(b)})};f.resolve=function(a){return a instanceof f?a:new f(function(b,d){b(a)})};f.reject=function(a){return new f(function(b,d){d(a)})};
f.race=function(a){return new f(function(b,d){for(var e=$jscomp.makeIterator(a),h=e.next();!h.done;h=e.next())f.resolve(h.value).callWhenSettled_(b,d)})};f.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?f.resolve([]):new f(function(a,h){function e(b){return function(e){c[b]=e;g--;0==g&&a(c)}}var c=[],g=0;do c.push(void 0),g++,f.resolve(d.value).callWhenSettled_(e(c.length-1),h),d=b.next();while(!d.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(f.$jscomp$new$AsyncExecutor=function(){return new c});
return f},"es6-impl","es3");$jscomp.findInternal=function(a,c,g){a instanceof String&&(a=String(a));for(var f=a.length,k=0;k<f;k++){var b=a[k];if(c.call(g,b,k,a))return{i:k,v:b}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).i}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,g){return g})}},"es6","es3");
var spa=function(){var a=function(){var a={},h={};return{initModule:function(a,b){h[a]=b},publish:function(b,e){var d=h[a[b]];if(!d)return!1;event=new CustomEvent(b,{detail:e});d.dispatchEvent(event)},subscribe:function(b,e,c){_.has(a,e)&&delete a[e];h[b].addEventListener(e,c);a[e]=b},unsubscribe:function(b,e){_.has(a,e)&&delete a[e]}}}(),c=function(){var a=null;return{setConfig:function(b){a=b},setAnchor:function(a,b){var e=a.page,e=_.isArray(e)?"/"+e.join("/"):e;a={cache:a.cache||!1};b?history.replaceState(null,
null,e):history.pushState(a,null,e);window.dispatchEvent(new Event("popstate"))},makeAnchorMap:function(b){var d;d=document.location.href.split("/");var e=history.state,c=_.intersection(d,a),h=!1;e&&(h=e.cache||!1);e=null;0<c.length&&(e=_.rest(d,_.indexOf(d,c[0])));d={page:e,cache:h};null===d.page&&(d.page=_.isArray(b)?b:[b]);return d}}}(),g=function(){var b=null,c=function(){var a=function(a){return _.keys(a).map(function(b){var e=a[b];_.isObject(e)&&(e=JSON.stringify(e));return[b,encodeURIComponent(e)].join("=")}).join("&")},
b=function(a){return new Promise(function(b,e){var d=new XMLHttpRequest;d.open(a.method,a.url,!0);_.keys(a.headers).forEach(function(b){d.setRequestHeader(b,a.headers[b])});d.send(a.params);d.onload=function(){if(200<=d.status&&300>d.status)b(JSON.parse(d.response));else if(401===d.status){var a=JSON.parse(d.response);e(a.error)}else 403===d.status?(a=JSON.parse(d.response),e(a.error)):(console.info(d.response),e(d.statusText))};d.onerror=function(){console.info(d.statusText);e(d.statusText)}})};
return{get:function(e,d,c){c=void 0===c?null:c;var h={};c&&(h.Authorization="Bearer "+c);e+="?"+a(d);"?"===_.last(e)&&(e=_.without(e,"?").join(""));return b({method:"GET",url:e,params:null,headers:h})},delete:function(e,d,c){c=void 0===c?null:c;var h={};c&&(h.Authorization="Bearer "+c);return b({method:"DELETE",url:e,params:a(d),headers:h})},patch:function(a,e,d){d=void 0===d?null:d;var c={"Content-Type":"application/json; charset=UTF-8"};d&&(c.Authorization="Bearer "+d);return b({method:"PATCH",
url:a,params:JSON.stringify(e),headers:c})},post:function(e,d,c){c=void 0===c?null:c;var h={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};c&&(h.Authorization="Bearer "+c);return b({method:"POST",url:e,params:a(d),headers:h})},json:function(a,e,d){d=void 0===d?null:d;var c={"Content-Type":"application/json; charset=UTF-8"};d&&(c.Authorization="Bearer "+d);return b({method:"POST",url:a,params:JSON.stringify(e),headers:c})},up:function(a,b){return new Promise(function(e,d){var c=
new XMLHttpRequest,h=new FormData;h.append("file",b);c.open("POST",a);c.send(h);c.onload=function(){200===c.status?e(JSON.parse(c.response)):d(Error("Image didn't load successfully; error code:"+c.statusText))};c.onerror=function(){d(Error("There was a network error."))}})}}}(),d=function(){return{open:function(e,d){e=(new goog.appengine.Channel(e)).open();e.onopen=function(){a.publish(d,{onopen:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u958b\u901a\u3057\u307e\u3057\u305f\u3002"})};e.onerror=function(){a.publish(d,
{onerror:"\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002"})};e.onclose=function(){console.info("Close Channel")};e.onmessage=function(b){b=JSON.parse(b.data);a.publish(b.customeve,b)};b=e},close:function(){b.close()}}}();return{getAjax:c,getChannel:d}}(),f=function(){return{makeError:function(a,c,d){var b=Error();b.name=a;b.message=c;d&&(b.data=d);return b},okikae:function(){var a=Array.prototype.slice.call(arguments),c=a.slice(1),d=function(a,
b){return-1===a.indexOf("%s")?a:d(a.replace("%s",b||""),c.shift())};return d(a[0],c.shift())},deepCopy:function(a){return JSON.parse(JSON.stringify(a))},setConfigMap:function(a){var b=a.input_map,d=a.config_map;_.each(Object.keys(b),function(a){d.hasOwnProperty(a)&&(d[a]=b[a])})},ltrim:function(a){return a.replace(/[\s\u3000]+/g,"")},autoColor:function(){var a=function(a){return"0123456789ABCDEF".split("")[a-16*Math.floor(a/16)]};return function(){var b=Math.round(255*Math.random()),d=Math.round(255*
Math.random());return"#"+a(Math.round(255*Math.random()))+a(b)+a(d)}()},encodeHTML:function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b.innerHTML}}}(),k=function(){var a={error_model:null},c=function(a){a.stopPropagation()};return{configModule:function(b){f.setConfigMap({input_map:b,config_map:a})},initModule:function(b){var e=a.error_model;console.info(e);b.innerHTML=spa.error[e.name](e);document.getElementById("error-container").addEventListener("click",
c,!1)}}}();return{initModule:function(){spa.model.initModule();spa.shell.initModule();window.dispatchEvent(new Event("popstate"))},gevent:a,uriAnchor:c,data:g,util:f,error:k}}();
spa.error.login=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u8a8d\u8a3c\u30a8\u30e9\u30fc\uff1f</h3>\n            <p>'+a.message+'</p>\n            <div><a href="'+a.data+'">Google\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</a></div>\n          </div>\n        </div>\n      </div>\n    </article>'};
spa.error.schema=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>\u30da\u30fc\u30b8\u9055\u53cd\uff1f</h3>\n            <p>'+a.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};
spa.error.server=function(a){return'\n    <article id="error-container">\n      <div class="error-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n            <h2>Thirdpen</h2>\n          </div>\n          <div class="mdl-card__supporting-text">\n            <h3>server\u3067\u4f8b\u5916\u767a\u751f\uff1f</h3>\n            <p>'+a.message+"</p>\n          </div>\n        </div>\n      </div>\n    </article>"};spa.showdownext=function(){return{set:function(){showdown.extension("mathExt",function(){var a=[],c=/(?:<p>)?<img.*?src="(.+?)".*?alt="(.*?)"(.*?)\/?>(?:<\/p>)?/gi;return[{type:"lang",regex:/\\\[[^\(\~]([^]+?)\\\]/g,replace:function(c,f){a.push('<div class="mathjax">\\['+f+"\\]</div>");return"%PLACEHOLDER"+(a.length-1)+"%"}},{type:"output",filter:function(c){for(var f=0;f<a.length;++f)c=c.replace(new RegExp("<p>%PLACEHOLDER"+f+"% *</p>","gi"),a[f]);a=[];return c}},{type:"output",filter:function(a){return a.replace(new RegExp(c,
"gi"),function(a,c,b,h){return'<figure><img src="%1" alt="%2" title="%4"><figcaption>%3</figcaption></figure>'.replace("%1",c).replace("%2",b).replace("%3",b).replace("%4",b)})}}]})}}}();
spa.mathjax=function(){var a={mjRunning:!1,mjPending:!1,CreatePreview:function(){if(!a.mjPending){var c=document.getElementsByClassName("mathjax");a.mjRunning?(a.mjPending=!0,MathJax.Hub.Queue(["CreatePreview",a])):(a.mjRunning=!0,MathJax.Hub.Queue(["Typeset",MathJax.Hub,c],["PreviewDone",a]))}},PreviewDone:function(){a.mjRunning=a.mjPending=!1}};return{init:function(){a.callback=MathJax.Callback(["CreatePreview",a]);a.callback.autoReset=!0},update:function(){a.callback()}}}();spa.model=function(){var a=null,c,g=function(){var b=spa.data.getAjax;return{get:function(){return a},identify:function(c){c={page:JSON.stringify(c)};b.post("/identify",c).then(function(b){a=b;spa.gevent.publish("spa-identify",a)}).catch(function(a){spa.gevent.publish("spa-error",a)})}}}(),f=function(){var c=spa.data.getAjax;return{load:function(d){d="https://elabo-one.appspot.com/thirdpen/"+d.join("/");c.get(d,{},a.token).then(function(a){spa.gevent.publish("load-blog",a.publish)}).catch(function(a){console.info(a);
_.has(a,"status")&&"401"===a.status?b():_.has(a,"status")&&"403"===a.status?b():spa.gevent.publish("spa-error",a)})},current:function(a){spa.gevent.publish("load-blog",null)}}}(),k=function(){var a=spa.data.getAjax;return{mail:function(b,c){a.post(b,c).then(function(a){spa.gevent.publish("change-contact",a.publish)}).catch(function(a){spa.gevent.publish("spa-error",a)})}}}(),b=function(){a={appid:"appspot"}};return{initModule:b,apps:g,entry:function(){var f=spa.data.getAjax,d={tech:"change-newist",
think:"change-newist",github:"change-newist",euler:"change-newist",home:"change-home"};return{newist:function(e){f.get("https://elabo-one.appspot.com/thirdpen/"+e.channel+"/"+e.tags+"/"+e.offset,{fetch:e.fetch},a.token).then(function(a){c=a.publish;spa.gevent.publish(d[e.channel],a.publish)}).catch(function(a){_.has(a,"status")&&"401"===a.status?b():_.has(a,"status")&&"403"===a.status?b():spa.gevent.publish("spa-error",a)})},current:function(a){spa.gevent.publish(d[a.channel],c)},list:function(){return c}}},
blog:f,contact:k}}();spa.shell=function(){var a=void 0,c=[],g={},f=["newist","home","blog","contact"];spa.showdownext.set();spa.mathjax.init();var k=function(a){spa.uriAnchor.setAnchor({page:a.detail.anchor},!1)},b=function(b){g.error.configModule({error_model:{name:"server",message:b.detail,data:null}});g.error.initModule(a)},h=function(a){console.info(a.detail)},d=function(a){var b=_.find(a.path,function(a){return"A"===a.tagName?a:!1});if(b){var b=b.href.split("/"),c=_.intersection(b,f);0<c.length&&(a.preventDefault(),
a=_.rest(b,_.indexOf(b,c[0])),spa.uriAnchor.setAnchor({page:a},!1))}},e=function(b){try{var d=spa.uriAnchor.makeAnchorMap("home");if("appspot"===spa.model.apps.get().appid)return spa.model.apps.identify(d.page),!1;var e=d.page[0],h=d.page,k=h.join("_"),l=c.indexOf(k);-1<f.indexOf(k)?(c=[k],l=0):-1==l?(-1==c.indexOf(h[0])&&c.push(h[0]),c.push(k),l=c.length-1):1<c.length-l?c=c.slice(0,l+1):console.info("lastIndex is same: %s",k);var p=0==l?null:c[l-1].split("_");g[e].configModule({anchor:d,previous:p});
g[e].initModule(a);return!0}catch(n){return console.info(n),g.error.configModule({error_model:n}),g.error.initModule(a),!1}};return{initModule:function(){g.error=spa.error;_.each(f,function(a){g[a]=spa[a]});a=document.getElementById("spa");spa.gevent.initModule("spa",a);spa.gevent.subscribe("spa","spa-identify",k);spa.gevent.subscribe("spa","spa-error",b);spa.gevent.subscribe("spa","message-marked",h);document.addEventListener("click",d,!1);spa.uriAnchor.setConfig(f);window.addEventListener("popstate",
e)}}}();spa.home=function(){var a={anchor:null},c={},g=spa.model.entry(),f=function(a){var b=a.detail;a=_.range(b.length);a.unshift(_.findIndex(b,{slug:"aboutme"}));a=_.uniq(a).map(function(a){a=b[a];return'\n        <div class="home-section mdl-card__supporting-text">\n          <section>\n            <h3>'+a.title+"</h3>\n            <p>"+a.content+"</p>\n          </section>\n        </div>"}).join("");c.home.innerHTML=a};return{configModule:function(c){spa.util.setConfigMap({input_map:c,config_map:a});
return!0},initModule:function(a){a.innerHTML=spa.home.template;document.getElementById("home-container");c={home:document.getElementById("home-contents")};spa.gevent.subscribe("spa","change-home",f);componentHandler.upgradeDom();g.newist({fetch:31,tags:"thirdpen",channel:"home",offset:0})}}}();spa.home.template=function(){return'\n    <article id="home-container">\n      <div class="home-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n             <h2>About Third Pen</h2>\n          </div>\n          <div id="home-contents"></div>\n        </div>\n      </div>\n    </article>'}();spa.newist=function(){var a={anchor:null},c=null,g=spa.model.entry(),f=new showdown.Converter({extensions:["mathExt"]}),k=function(b){var h=b.detail,d=$jscomp.makeIterator(_.rest(a.anchor.page));b=d.next().value;var e=d.next().value,d=d.next().value,h=h.map(function(a){var b=a.title,c=a.excerpt,d=a.date,e=a.initdate,h=a.channel,g=a.tags;a="/blog/"+a.key.split("_").join("/");c=f.makeHtml(c);return'\n          <div class="newist-section mdl-card__supporting-text">\n           <section>\n             <h3><a href="'+
a+'">'+b+"</a></h3>\n             "+c+'\n             <footer class="mdl-mini-footer">\n               <span><a href="/newist/'+h+"/"+g+'">'+g+"</a> | "+d+"</span>\n               <span>\u521d\u7a3f"+e+"</span>\n             </footer>\n           </section>\n          </div>"}).join(""),d=d||0,k="show more",m=d+g.list().length;m==d||0<m%6?(k="No More",b="/newist/"+b+"/"+(e||"all")+"/"+d):b="/newist/"+b+"/"+(e||"all")+"/"+m;c.innerHTML=spa.newist.template([b,k,h]);componentHandler.upgradeDom()};return{configModule:function(b){spa.util.setConfigMap({input_map:b,
config_map:a})},initModule:function(b){var f=$jscomp.makeIterator(_.rest(a.anchor.page)),d=f.next().value,e=f.next().value,f=f.next().value,d={fetch:6,tags:e||"all",channel:d,offset:f||0};c=b;spa.gevent.subscribe("spa","change-newist",k);b="newist";a.anchor.cache&&(b="current");g[b](d)}}}();
spa.newist.template=function(a){a=$jscomp.makeIterator(a);var c=a.next().value,g=a.next().value;return'\n    <article id="newist-container">\n      <div class="newist-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n          <div class="mdl-card__title">\n             <h2>\u65b0\u7740\u30a8\u30f3\u30c8\u30ea</h2>\n          </div>\n          <div>'+a.next().value+'</div>\n        </div>\n        <nav class="newist-nav mdl-cell mdl-cell--12-col">\n          <a href="'+
c+'" title="'+g+'">\n            More\n            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">\n              <i class="material-icons" role="presentation">arrow_forward</i>\n            </button>\n          </a>\n        </nav>\n      </div>\n    </article>'};spa.blog=function(){var a={anchor:null,previous:null},c=null,g=null,f,k=spa.model.blog,b=new showdown.Converter({extensions:["mathExt"]}),h=function(b){b.stopPropagation();(b=a.previous)&&("blog"===b[0]?spa.uriAnchor.setAnchor({page:["newist",g],cache:!1},!1):spa.uriAnchor.setAnchor({page:b,cache:!0},!1))},d=function(a){a=a.detail;g=a.channel;a.content=b.makeHtml(a.content);c.innerHTML=spa.blog.template(a);spa.mathjax.update();f=document.getElementById("blog-back");f.addEventListener("click",h);componentHandler.upgradeDom()};
return{configModule:function(b){spa.util.setConfigMap({input_map:b,config_map:a})},initModule:function(b){b.innerHTML='<article id="blog-container"></article>';c=document.getElementById("blog-container");spa.gevent.subscribe("spa","load-blog",d);k.load(a.anchor.page)}}}();
spa.blog.template=function(a){return'\n    <div class="blog-content mdl-grid">\n      <div class="mdl-card mdl-cell--12-col mdl-shadow--2dp">\n        <header class="blog-header">\n          <span>'+a.tags+"&nbsp;|&nbsp;"+a.date+'</span>\n        </header>\n        <div class="mdl-card__title">\n          <h2>'+a.title+'</h2>\n        </div>\n        <div class="blog-section mdl-card__supporting-text">\n          '+a.content+'\n        </div>\n      </div>\n      <nav class="blog-nav mdl-cell mdl-cell--12-col">\n        <button id="blog-back" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" >\n          <i class="material-icons" role="presentation">arrow_back</i>\n        </button>\n        <span class="mdl-tooltip" for="blog-back">\u524d\u306e\u753b\u9762</span> \n      </nav>\n    </div>'};spa.contact=function(){var a={},c={},g=spa.model.contact,f=function(a){a.preventDefault();var b=new FormData(c.form);a=_.object(_.map(["name","email","note"],function(a){return[a,b.get(a)]}));_.isEmpty(_.without(_.values(a),""))?c.message.innerText="\u30d5\u30a9\u30fc\u30e0\u304c\u672a\u8a18\u5165\u3067\u3059\u3002":g.mail(c.form.action,a)},k=function(a){c.message.innerText=a.detail};return{configModule:function(b){spa.util.setConfigMap({input_map:b,config_map:a});return!0},initModule:function(a){a.innerHTML=
spa.contact.template;document.getElementById("contact-container");c={form:document.querySelector("form"),message:document.getElementById("contact-message")};spa.gevent.subscribe("spa","change-contact",k);c.form.addEventListener("submit",f,!1);componentHandler.upgradeDom()}}}();spa.contact.template=function(){return'\n    <article id="contact-container">\n      <div class="contact-content mdl-grid">\n        <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">\n          <div class="mdl-card__title">\n            <h2 class="mdl-card__title-text">Contact</h2>\n          </div>\n          <div class="mdl-card__media">\n            <img class="article-image" src=" /images/banner.png" border="0" alt="">\n          </div>\n          <div class="mdl-card__supporting-text">\n            <p id="contact-message">\n            \u958b\u767a\u306e\u554f\u3044\u5408\u308f\u305b\u3092\u304a\u53d7\u3051\u3044\u305f\u3057\u307e\u3059\u3002\n            </p>\n            <form action="/contact" class="">\n              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                <input name="name" class="mdl-textfield__input" pattern="[A-Z,a-z, ]*" type="text" id="Name">\n                <label class="mdl-textfield__label" for="Name">Name...</label>\n                <span class="mdl-textfield__error">Letters and spaces only</span>\n              </div>\n              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                <input name="email" class="mdl-textfield__input" type="text" id="Email">\n                <label class="mdl-textfield__label" for="Email">Email...</label>\n              </div>\n              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                <textarea name="note" class="mdl-textfield__input" type="text" rows="5" id="note"></textarea>\n                <label class="mdl-textfield__label" for="note">Enter note</label>\n              </div>\n              <p>\n                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" type="submit">\n                    Submit\n                </button>\n              </p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </article>'}();
